# RPG 遊戲規格

本文件定義了一款文字 RPG 遊戲的核心功能與系統。

---

## 1. 核心玩法循環

遊戲的核心循環圍繞以下幾個部分：

`探索` → `遭遇事件/戰鬥` → `獲得資源` → `返回村莊` → `製作/升級裝備` → `強化自身`

---

## 2. 玩家角色系統 (Player Character)

### 2.1 角色註冊
- **指令:** `註冊`
- **流程:** 玩家首次使用此指令，系統將為其創建一個角色，並賦予初始屬性。
- **初始屬性:**
    - 生命值 (HP): 100 / 100
    - 體力 (Stamina): 50 / 50
    - 攻擊力 (ATK): 10
    - 防禦力 (DEF): 5
    - 金錢: 100 金

### 2.2 玩家屬性
| 屬性 | 描述 |
| :--- | :--- |
| **生命值 (HP)** | 角色的生命力，歸零時戰鬥失敗。 |
| **體力 (Stamina)** | 進行探索、製作等行動時消耗。每 5 分鐘自動恢復 1 點。 |
| **攻擊力 (ATK)** | 物理傷害的基礎值，可透過裝備提升。 |
| **防禦力 (DEF)** | 減免物理傷害的基礎值，可透過裝備提升。 |

---

## 3. 探索與戰鬥系統

### 3.1 探索機制
- **指令:** `探索`
- **流程:** 玩家使用指令後，消耗 10 點體力並觸發一個隨機事件。
- **工具加成:** 探索時，若背包中有效工具（如十字鎬、斧頭），則有更高機率獲得稀有資源。
    - **範例:** `> 你發現了礦脈！系統自動使用背包中的 [十字鎬]，你獲得了 [鐵礦石] x3。`

### 3.2 隨機事件
| 事件類型 | 描述範例 | 基礎機率 |
| :--- | :--- | :--: |
| **資源發現** | `> 你在草叢中找到了一些 [藥草]。` | 40% |
| **遭遇怪物** | `> 一隻 [史萊姆] 突然出現！(請輸入 `戰鬥` 或 `逃跑`)` | 35% |
| **寶箱/金錢** | `> 你打開一個舊寶箱，獲得了 50 金。` | 10% |
| **增益事件** | `> 你喝了口清澈的泉水，恢復了 20 點體力。` | 5% |
| **減益事件** | `> 你不小心踩到陷阱，損失了 10 點 HP。` | 5% |
| **空手而歸** | `> 你仔細搜索了這片區域，但什麼也沒找到。` | 5% |

### 3.3 戰鬥機制
- **觸發:** 當探索觸發「遭遇怪物」事件時，玩家可以選擇 `戰鬥` 或 `逃跑`。
- **戰鬥流程:**
    - **指令:** `戰鬥`
    - **類型:** 全自動回合制，玩家恆為先攻。
    - **流程:** 戰鬥開始後，雙方自動攻擊，直到一方 HP 歸零。
    - **戰鬥公式:**
        - `造成傷害 = (攻擊方 ATK - 防禦方 DEF) * (0.9 ~ 1.1 的隨機浮點數)`
        - 若計算後傷害 <= 0，則造成 1 點傷害。
    - **勝利:** `> 恭喜！您擊敗了 [史萊姆]，獲得 5 金，以及 [黏液] x2。`
    - **失敗:** `> 您被擊敗了...狼狽地逃回村莊。` (HP 恢復為 1，無其他損失)
- **逃跑流程:**
    - **指令:** `逃跑`
    - **成功:** `> 你成功逃跑了，但消耗了 5 點體力。` (有 80% 機率成功)
    - **失敗:** `> 逃跑失敗！你被迫進入戰鬥！` (有 20% 機率失敗，並直接進入戰鬥)

### 3.4 怪物列表
| 怪物名稱 | HP | ATK | DEF | 金錢 | 掉落物 |
| :--- | :-: | :-: | :-: | :-: | :--- |
| 史萊姆 | 25 | 8 | 2 | 5 | 黏液 |
| 哥布林 | 60 | 12 | 5 | 15 | 破舊的布 |
| 森林狼 | 75 | 15 | 6 | 20 | 狼皮, 鋒利的狼牙 |
| 岩石傀儡 | 150 | 20 | 18 | 50 | 石頭, 鐵礦石 |

---

## 4. 物品、製作與裝備

### 4.1 物品總覽
| 類別 | 物品名稱 | 來源 | 說明 |
| :--- | :--- | :--- | :--- |
| **消耗品** | 治療藥水 | 製作 | 恢復 50 點 HP。 |
| **材料** | 藥草, 木材, 石頭 | 探索 | 基礎製作材料。 |
| | 鐵礦石, 硬木 | 探索 (需對應工具) | 進階製作材料。 |
| | 黏液, 狼皮 | 怪物掉落 | 生物相關的製作材料。 |
| **工具** | 十字鎬, 斧頭 | 製作 | 提高對應資源的採集率。有耐久度。 |

### 4.2 製作系統 (Crafting)
- **指令:** `製作 [物品名稱] [數量]`
- **流程:** 系統檢查材料是否足夠，扣除材料與體力後產出物品。
- **大成功機制:** 製作時有 1% 機率觸發「大成功」，產出屬性更佳的「精良」版本裝備。
    - **精良裝備:** 基礎屬性為普通的 1.2 倍 (無條件進位)。

| 產物 | 所需材料 | 體力消耗 | 效果 |
| :--- | :--- | :--- | :--- |
| **治療藥水** | 藥草 x5, 黏液 x1 | 5 | 恢復 50 HP |
| **十字鎬** | 硬木 x2, 石頭 x3 | 10 | 工具, 耐久 50 |
| **鐵劍** | 鐵礦石 x5, 硬木 x2, 狼皮 x1 | 20 | ATK +15 (武器) |
| **皮甲** | 狼皮 x5 | 15 | DEF +7 (身體) |

### 4.3 裝備系統 (Equipment)
- **指令:** `裝備 [物品]` / `卸下 [欄位]`
- **裝備欄位:** 武器, 頭部, 身體, 腿部, 飾品

---

## 5. 其他系統

### 5.1 每日任務
- **指令:** `任務`
- **流程:**
    1. 玩家使用 `任務` 指令可查看今天的每日任務內容與進度。
    2. 完成任務條件後，使用 `任務 回報` 指令領取獎勵。
- **機制:**
    - 系統每日凌晨 00:00 會刷新一個隨機的每日任務。
    - 無論前一天的任務是否完成，都會被新的任務覆蓋。
    - 每位玩家的每日任務都是相同的。
- **任務範例:**
    - (討伐) **每日討伐:** 擊敗 5 隻 `哥布林`。獎勵: 100 金錢。
    - (收集) **每日收集:** 收集 10 個 `鐵礦石`。獎勵: 150 金錢。

### 5.2 交易市場 (Market)
- **指令:**
    - `市場 上架 [物品] [數量] [單價]`
    - `市場 搜尋 [關鍵字]`
    - `市場 購買 [商品ID]`
- **稅金:** 每次交易成功，系統向賣方收取 5% 的交易稅。

---

## 6. 指令總覽

| 功能分類 | 指令 | 說明 |
| :--- | :--- | :--- |
| **角色** | `註冊` | 創建你的遊戲角色。 |
| | `狀態` | 檢視當前的詳細能力值、裝備等。 |
| | `背包` 或 `物品` | 查看你擁有的所有物品。 |
| | `使用 [物品]` | 使用背包中的消耗品。 |
| | `裝備 [物品]` | 將背包中的物品裝備到對應欄位。 |
| | `卸下 [欄位]` | 卸下指定欄位的裝備。 |
| **行動** | `探索` | 在野外進行探索，觸發隨機事件。 |
| | `戰鬥` | 當遭遇怪物時，選擇與其戰鬥。 |
| | `逃跑` | 當遭遇怪物時，嘗試逃離戰鬥。 |
| | `製作 [物品] [數量]`| 根據配方製作物品。 |
| **社交** | `市場` | 進入玩家間的交易市場。 |
| **任務** | `任務` | 查看今日的每日任務。 |
| | `任務 回報` | 回報已完成的每日任務以領取獎勵。 |
| **系統** | `幫助` 或 `help` | 顯示遊戲的幫助說明與指令列表。 |
